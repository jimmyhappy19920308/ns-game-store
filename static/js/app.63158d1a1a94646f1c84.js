webpackJsonp([1],{"7ZLi":function(t,a){t.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwMjQiIHdpZHRoPSI4OTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyOCA3NjhoMjU2djY0SDEyOHYtNjR6IG0zMjAtMzg0SDEyOHY2NGgzMjB2LTY0eiBtMTI4IDE5MlY0NDhMMzg0IDY0MGwxOTIgMTkyVjcwNGgzMjBWNTc2SDU3NnogbS0yODgtNjRIMTI4djY0aDE2MHYtNjR6TTEyOCA3MDRoMTYwdi02NEgxMjh2NjR6IG01NzYgNjRoNjR2MTI4Yy0xIDE4LTcgMzMtMTkgNDVzLTI3IDE4LTQ1IDE5SDY0Yy0zNSAwLTY0LTI5LTY0LTY0VjE5MmMwLTM1IDI5LTY0IDY0LTY0aDE5MkMyNTYgNTcgMzEzIDAgMzg0IDBzMTI4IDU3IDEyOCAxMjhoMTkyYzM1IDAgNjQgMjkgNjQgNjR2MzIwaC02NFYzMjBINjR2NTc2aDY0MFY3Njh6TTEyOCAyNTZoNTEyYzAtMzUtMjktNjQtNjQtNjRoLTY0Yy0zNSAwLTY0LTI5LTY0LTY0cy0yOS02NC02NC02NC02NCAyOS02NCA2NC0yOSA2NC02NCA2NGgtNjRjLTM1IDAtNjQgMjktNjQgNjR6IiAvPgo8L3N2Zz4K"},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),n=e("mtWM"),i=e.n(n),r=e("Rf8U"),o=e.n(r),c=e("sUu7"),l=e("1SbN"),d=e.n(l),u=e("ZZvs"),p=e.n(u),v=(e("SYh3"),e("K3J8"),{render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]});var m=e("VU/8")({name:"App"},v,!1,function(t){e("VDdK")},null,null).exports,_=e("/ocq"),g={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-dark"},[a("router-link",{staticClass:"navbar-brand text-danger",attrs:{to:"/"}},[a("i",{staticClass:"fab fa-nintendo-switch"}),this._v(" NS GameStore")]),this._v(" "),this._m(0),this._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link text-danger",attrs:{to:"/"}},[this._v("首頁")])],1),this._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link text-success font-weight-bold",attrs:{to:"/coupon"}},[this._v("領取優惠")])],1)])])],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]},h=e("VU/8")(null,g,!1,null,null,null).exports,f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"carousel slide d-flex my-4",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),t._v(" "),s("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}}),t._v(" "),s("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}})]),t._v(" "),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{staticClass:"d-block img-fluid mx-auto rounded",attrs:{src:e("R0wZ"),alt:"First slide"}})]),t._v(" "),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block img-fluid mx-auto rounded",attrs:{src:e("cdar"),alt:"Second slide"}})]),t._v(" "),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block img-fluid mx-auto rounded",attrs:{src:e("NI5Q"),alt:"Third slide"}})])]),t._v(" "),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon bg-dark",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),t._v(" "),s("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon bg-dark",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Next")])])])])}]},C=e("VU/8")(null,f,!1,null,null,null).exports,b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container main-contant py-5"},[e("p",{staticClass:"text-center mb-3 text-secondary h3"},[t._v("結帳")]),t._v(" "),e("section",{staticClass:"form-row align-items-center text-center"},[e("div",{staticClass:"col"},[e("div",{staticClass:"alert alert-rounded mb-0",class:{"alert-success":"/checkout"===this.$route.path},attrs:{role:"alert"}},[t._v("\n          1.確認購物車內容\n        ")])]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"alert alert-rounded mb-0",class:{"alert-success":"/checkout/checkout-customer-form"===this.$route.path},attrs:{role:"alert"}},[t._v("\n          2.輸入收件人資料\n        ")])]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"alert alert-rounded mb-0",class:{"alert-success":"CheckoutConfirmToPay"===this.$route.name},attrs:{role:"alert"}},[t._v("\n          3.訂單完成\n        ")])])]),t._v(" "),e("router-view")],1)])},staticRenderFns:[]},y=e("VU/8")(null,b,!1,null,null,null).exports,x={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"list-group sticky-top"},[e("a",{staticClass:"list-group-item list-group-item-action active",attrs:{"data-toggle":"list",href:"#"},on:{click:function(a){a.preventDefault(),t.selectCategory("All")}}},[e("i",{staticClass:"fas fa-dice-d6"}),t._v(" 所有分類\n    ")]),t._v(" "),e("a",{staticClass:"list-group-item list-group-item-action",attrs:{"data-toggle":"list",href:"#"},on:{click:function(a){a.preventDefault(),t.selectCategory("角色扮演")}}},[e("i",{staticClass:"fas fa-blind"}),t._v(" 角色扮演類\n    ")]),t._v(" "),e("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#","data-toggle":"list"},on:{click:function(a){a.preventDefault(),t.selectCategory("動作")}}},[e("i",{staticClass:"fas fa-running"}),t._v(" 動作類\n    ")]),t._v(" "),e("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#","data-toggle":"list"},on:{click:function(a){a.preventDefault(),t.selectCategory("冒險遊戲")}}},[e("i",{staticClass:"fas fa-fighter-jet"}),t._v(" 冒險遊戲類\n    ")]),t._v(" "),e("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#","data-toggle":"list"},on:{click:function(a){a.preventDefault(),t.selectCategory("其他(休閒)")}}},[e("i",{staticClass:"fas fa-swimmer"}),t._v(" 其他(休閒)類\n    ")])])])},staticRenderFns:[]},N=e("VU/8")({methods:{selectCategory:function(t){this.$bus.$emit("filter-category",t)}}},x,!1,null,null,null).exports,P={props:{parentPagination:{type:Object}},methods:{getCurrentPage:function(t){this.$emit("get-current-page",t)}},created:function(){this.getCurrentPage()}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"my-5",attrs:{"aria-label":"Page navigation"}},[t.parentPagination?e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!1===t.parentPagination.has_pre},on:{click:function(a){a.preventDefault(),t.getCurrentPage(t.parentPagination.current_page-1)}}},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[t._v("Previous")])]),t._v(" "),t._l(t.parentPagination.total_pages,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.parentPagination.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.getCurrentPage(a)}}},[t._v(t._s(a))])])}),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:!1===t.parentPagination.has_next},on:{click:function(a){a.preventDefault(),t.getCurrentPage(t.parentPagination.current_page+1)}}},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Next")])])],2):t._e()])])},staticRenderFns:[]},E={components:{ProductsPagination:e("VU/8")(P,w,!1,null,null,null).exports},data:function(){return{products:[],product:{},pagination:{},filterCategory:"All",isLoading:!1}},computed:{filterProducts:function(){var t=this;return"All"!==t.filterCategory?t.products.filter(function(a){return a.category===t.filterCategory}):t.products}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/products?page="+t;"All"!==a.filterCategory&&(e=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/products/all"),a.isLoading=!0,a.$http.get(e).then(function(t){t.data.success?(a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1):console.log(t.data.message)})},searchItem:function(t){this.products=this.products.filter(function(a){return a.title.toLowerCase().indexOf(t.toLowerCase())>-1})},addShoppingCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/cart",n={product_id:t,qty:a};e.isLoading=!0,e.$http.post(s,{data:n}).then(function(t){t.data.success?(e.$bus.$emit("get-cart-count"),e.isLoading=!1,console.log(t.data.message)):console.log(t.data.message)})}},created:function(){var t=this;t.getProducts(),t.$bus.$on("filter-category",function(a){t.$set(t,"filterCategory",a),"All"!==t.filterCategory&&t.getProducts()})}},T={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane active",attrs:{id:"list-gold"}},[e("div",{staticClass:"row"},t._l(t.filterProducts,function(a){return e("div",{key:a.id,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"card border-0 box-shadow text-center h-100"},[e("div",{staticClass:"card-head"},[e("img",{staticClass:"card-img-top image",attrs:{src:a.imageUrl,alt:"Card image cap"}}),t._v(" "),e("div",{staticClass:"middle"},[e("router-link",{staticClass:"text text-primary border border-primary py-2 px-2 h5",attrs:{to:{name:"ProductDetail",params:{product:a}}}},[t._v("Show More")])],1)]),t._v(" "),e("div",{staticClass:"card-body"},[e("router-link",{staticClass:"text",attrs:{to:{name:"ProductDetail",params:{product:a}}}},[e("span",{staticClass:"card-title text-secondary h5"},[t._v(t._s(a.title))])]),t._v(" "),e("p",{staticClass:"card-text mt-3"},[t._v(t._s(a.description))])],1),t._v(" "),e("div",{staticClass:"card-footer border-top-0 bg-white"},[e("router-link",{staticClass:"btn btn-outline-primary btn-sm mb-3 btn-block",attrs:{to:{name:"ProductDetail",params:{product:a}}}},[e("i",{staticClass:"fas fa-ellipsis-h"}),t._v(" 更多詳情\n              ")]),t._v(" "),e("a",{staticClass:"btn btn-outline-danger btn-sm btn-block",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.addShoppingCart(a.id)}}},[e("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 加入購物車\n              ")])],1)])])}))])]),t._v(" "),"All"===t.filterCategory?e("ProductsPagination",{attrs:{"parent-pagination":t.pagination},on:{"get-current-page":t.getProducts}}):t._e()],1)},staticRenderFns:[]},D={components:{Carousel:C,ProductsListGroup:N,ProductsCard:e("VU/8")(E,T,!1,null,null,null).exports}},O={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("Carousel"),this._v(" "),a("div",{staticClass:"container main-contant mb-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("ProductsListGroup")],1),this._v(" "),a("div",{staticClass:"col-md-9"},[a("ProductsCard")],1)])])],1)},staticRenderFns:[]},j=e("VU/8")(D,O,!1,null,null,null).exports,k=e("7t+N"),$=e.n(k),L={props:{parentCarts:{type:Array},parentPrice:{type:Object}},data:function(){return{newCarts:[{coupon:{code:"testCode",due_date:6547658,id:"-L9uIs5EfPibJpwwTMhN",is_enabled:1,percent:60,title:"超級特惠價格"},final_total:2160,id:"-LATwxc_bIJu-AR4AlNj",product:{category:"衣服3",content:"這是內容",description:"Sit down please 名設計師設計",id:"-L9tH8jxVb2Ka_DYPwng",image:"test.testtest",is_enabled:1,num:1,origin_price:500,price:600,title:"[賣]動物園造型衣服3",unit:"個"},product_id:"-L9tH8jxVb2Ka_DYPwng",qty:6,total:3600}],newPrice:this.parentPrice,cartsAlert:"購物車尚未有任何商品",isLoading:!1}},computed:{computeCarts:function(){return this.newCarts=this.parentCarts,this.newCarts}},methods:{removeProduct:function(t){var a=this,e=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/cart/"+t;a.isLoading=!0,a.$http.delete(e).then(function(t){t.data.success?(a.$bus.$emit("get-cart-count"),a.isLoading=!1,console.log(t.data.message)):console.log(t.data.message)})},goToCheckoutComponent:function(){$()("#cartModal").modal("hide"),$()(".modal-backdrop").remove(),$()("#cartModal").remove(),$()("body").removeClass("modal-open"),this.$router.push("/checkout")}}},A={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"cartModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[t.newPrice.final_total?e("table",{staticClass:"table"},[t._m(1),t._v(" "),e("tbody",t._l(t.computeCarts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.removeProduct(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.product.title)+"\n                  ")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.qty)+" / "+t._s(a.product.unit)+"\n                ")]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v("\n                  "+t._s(t._f("currency")(a.final_total))+"\n                ")])])})),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right text-danger",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right text-danger h4"},[t._v("\n                  "+t._s(t._f("currency")(t.newPrice.final_total))+"\n                ")])])])]):e("div",{staticClass:"alert alert-secondary mt-4",attrs:{role:"alert"}},[e("p",{staticClass:"text-center h3 text-danger mb-0"},[t._v(t._s(t.cartsAlert))])])]),t._v(" "),t.newPrice.final_total?e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            取消\n          ")]),t._v(" "),e("a",{staticClass:"btn btn-danger",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goToCheckoutComponent(a)}}},[t._v("\n            結帳\n          ")])]):t._e()])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"cartModalLabel"}},[this._v("購物車內容")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th"),this._v(" "),a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",[this._v("單價")])])}]},M={components:{ShoppingCartModal:e("VU/8")(L,A,!1,null,null,null).exports},data:function(){return{shoppingCartCount:0,carts:[],price:{}}},methods:{getShoppingCart:function(){var t=this,a=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/cart";t.$http.get(a).then(function(a){a.data.success&&(t.$set(t,"carts",a.data.data.carts),t.$set(t.price,"total",a.data.data.total),t.$set(t.price,"final_total",a.data.data.total),t.shoppingCartCount=t.carts.length)})},openCartModal:function(){$()("#cartModal").appendTo("body").modal("show")}},created:function(){var t=this;t.getShoppingCart(),t.$bus.$on("get-cart-count",function(){t.getShoppingCart()})}},I={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("button",{staticClass:"btn btn-sm btn-cart float-right mr-5 mb-5 bg-dark",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.openCartModal(a)}}},[e("i",{staticClass:"fa fa-shopping-cart text-danger fa-2x ",attrs:{"aria-hidden":"true"}}),t._v(" "),e("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s(t.shoppingCartCount))]),t._v(" "),e("span",{staticClass:"sr-only"},[t._v("unread messages")])]),t._v(" "),e("ShoppingCartModal",{attrs:{"parent-carts":t.carts,"parent-price":t.price}})],1)},staticRenderFns:[]},S={components:{Navbar:h,Carousel:C,Checkout:y,Products:j,ShoppingCart:e("VU/8")(M,I,!1,null,null,null).exports}},V={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),t._v(" "),e("router-view"),t._v(" "),"/"===this.$route.path||"ProductDetail"===this.$route.name||"Coupon"===this.$route.name?e("div",{staticClass:"w-100 fixed-bottom"},[e("ShoppingCart")],1):t._e(),t._v(" "),e("footer",{staticClass:"bg-light text-muted py-5 sticky-bottom"},[e("div",[e("ul",{staticClass:"list-inline text-center"},[e("li",{staticClass:"list-inline-item text-danger"},[e("router-link",{staticClass:"text-danger",attrs:{to:"/"}},[e("i",{staticClass:"fab fa-nintendo-switch"}),t._v(" NS GameStore")])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),e("p",{staticClass:"text-center"},[t._v("© Copright 2018")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"text-info",attrs:{href:"https://www.instagram.com/nintendo/"}},[a("i",{staticClass:"fab fa-instagram"}),this._v(" Instagram\n          ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"text-info",attrs:{href:"https://zh-tw.facebook.com/NintendoSwitch/"}},[a("i",{staticClass:"fab fa-facebook"}),this._v(" Facebook\n          ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"text-info",attrs:{href:"https://en.wikipedia.org/wiki/Nintendo_Switch"}},[this._v("About")])])}]},H=e("VU/8")(S,V,!1,null,null,null).exports,U={props:{product:{type:Object,default:function(){return{category:"衣服3",content:"這是內容",description:"Sit down please 名設計師設計",id:"-L9tH8jxVb2Ka_DYPwng",image:"test.testtest",is_enabled:1,num:0,origin_price:100,price:600,title:"[賣]動物園造型衣服3",unit:"個"}}}},data:function(){return{newProduct:this.product,isLoading:!1}},methods:{addToCart:function(t,a){var e=this,s=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/cart",n={product_id:t,qty:a};0===n.qty&&(n.qty=1,e.newProduct.num=1),e.isLoading=!0,e.$http.post(s,{data:n}).then(function(t){t.data.success&&(e.$bus.$emit("get-cart-count"),e.isLoading=!1,console.log(t.data.message))})}},created:function(){this.newProduct.num=0}},Y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"container main-contant mb-1 mt-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"sticky-top",staticStyle:{top:"10px"}},[e("h1",{staticClass:"h2"},[t._v(t._s(t.newProduct.title))]),t._v(" "),e("div",{staticClass:"d-flex my-3 align-items-end justify-content-end"},[t.newProduct.origin_price?e("del",{staticClass:"text-muted"},[t._v("原價 NT$"+t._s(t.newProduct.origin_price))]):t._e(),t._v(" "),e("div",{staticClass:"h3 mb-0 ml-auto text-danger"},[e("small",[t._v("售價 NT ")]),e("strong",[t._v(t._s(t._f("currency")(t.newProduct.price)))])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"input-group mt-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mr-1",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.product,"num",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0",disabled:""}},[t._v("--請選擇--")]),t._v(" "),t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+" "+t._s(t.product.unit))])})],2),t._v(" "),e("a",{staticClass:"btn btn-danger",attrs:{href:"shoppingCart-checkout.html"},on:{click:function(a){a.preventDefault(),t.addToCart(t.newProduct.id,t.newProduct.num)}}},[e("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 加入購物車\n            ")])]),t._v(" "),e("div",{staticClass:"mt-2 text-right text-muted"},[e("span",{staticClass:"btn btn-outline-dark btn-sm disabled my-3"},[t._v(t._s(t.newProduct.category)+"類")])]),t._v(" "),e("p",{staticClass:"h4"},[t._v(t._s(t.newProduct.description))]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(t.newProduct.content))]),t._v(" "),e("div",{staticClass:"d-flex justify-content-start"},[e("router-link",{staticClass:"btn btn-primary text-right",attrs:{to:"/"}},[t._v("返回")])],1)])]),t._v(" "),e("div",{staticClass:"col-md-8"},[e("img",{staticClass:"w-100",attrs:{src:t.newProduct.imageUrl,alt:""}})])])])],1)},staticRenderFns:[]},R=e("VU/8")(U,Y,!1,null,null,null).exports,z={data:function(){return{carts:[{coupon:{code:"testCode",due_date:6547658,id:"-L9uIs5EfPibJpwwTMhN",is_enabled:1,percent:60,title:"超級特惠價格"},final_total:2160,id:"-LATwxc_bIJu-AR4AlNj",product:{category:"衣服3",content:"這是內容",description:"Sit down please 名設計師設計",id:"-L9tH8jxVb2Ka_DYPwng",image:"test.testtest",is_enabled:1,num:1,origin_price:500,price:600,title:"[賣]動物園造型衣服3",unit:"個"},product_id:"-L9tH8jxVb2Ka_DYPwng",qty:6,total:3600}],price:{},coupon:"",cartsAlert:"購物車尚未有任何商品",isLoading:!1}},created:function(){this.getCarts()},methods:{getCarts:function(){var t=this,a=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/cart";t.isLoading=!0,t.$http.get(a).then(function(a){a.data.success?(t.$set(t,"carts",a.data.data.carts),t.$set(t.price,"total",a.data.data.total),t.$set(t.price,"final_total",a.data.data.final_total),t.isLoading=!1):console.log(a.data.message)})},removeCartProduct:function(t,a){var e=this,s=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/cart/"+a;e.carts.splice(t,1),e.isLoading=!0,e.$http.delete(s).then(function(t){t.data.success?(e.getCarts(),e.$bus.$emit("get-cart-count"),e.isLoading=!1,console.log(t.data.message)):console.log(t.data.message)})},applyCoupon:function(){var t=this,a=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/coupon",e={code:t.coupon};t.isLoading=!0,t.$http.post(a,{data:e}).then(function(a){a.data.success?(t.getCarts(),t.$bus.$emit("get-cart-count"),t.isLoading=!1,console.log(a.data.message)):console.log(a.data.message)})},confirmOrder:function(){var t=this;t.isLoading=!0,setTimeout(function(){t.$router.push({name:"CheckoutCustomerForm"}),t.isLoading=!1},200)}}},F={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"h-100"},[e("div",{staticClass:"container h-100"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),t.price.final_total?e("section",{staticClass:"row justify-content-center mt-5"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[e("h6",{staticClass:"mb-0 d-flex align-items-center"},[t._m(0),t._v(" "),e("span",{staticClass:"h3 ml-auto mb-0"},[t._v(t._s(t._f("currency")(t.price.final_total)))])])])]),t._v(" "),e("div",{staticClass:"collapse mt-3",attrs:{id:"collapseOne"}},[e("table",{staticClass:"table"},[t._m(1),t._v(" "),e("tbody",t._l(t.carts,function(a,s){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.removeCartProduct(s,a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                      "+t._s(a.product.title)+"\n                      "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n                        已套用優惠券\n                      ")]):t._e()]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                      "+t._s(a.qty)+" / "+t._s(a.product.unit)+"\n                    ")]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v("\n                      "+t._s(t._f("currency")(a.final_total))+"\n                    ")])])})),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.price.total)))])]),t._v(" "),e("tr",[e("td",{staticClass:"text-right text-success h4",attrs:{colspan:"3"}},[t._v("\n                      折扣價\n                    ")]),t._v(" "),e("td",{staticClass:"text-right text-success h4"},[t._v("\n                      "+t._s(t._f("currency")(t.price.final_total))+"\n                    ")])])])]),t._v(" "),e("div",{staticClass:"input-group mb-3 input-group-md"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon,expression:"coupon"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon},on:{input:function(a){a.target.composing||(t.coupon=a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.applyCoupon(a)}}},[t._v("\n                    套用優惠碼\n                  ")])])])])])]):e("div",{staticClass:"alert alert-secondary mt-4",attrs:{role:"alert"}},[e("p",{staticClass:"text-center h3 text-danger mb-0"},[t._v(t._s(t.cartsAlert))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center mt-3"},[t.price.final_total?e("router-link",{staticClass:"btn btn-danger",attrs:{to:""},nativeOn:{click:function(a){return t.confirmOrder(a)}}},[t._v("確認訂購")]):e("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[t._v("返回選購")])],1)],1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("a",{attrs:{"data-toggle":"collapse",href:"#collapseOne"}},[this._v("\n                    顯示購物車細節\n                    "),a("i",{staticClass:"fa fa-angle-down",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th"),this._v(" "),a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",[this._v("單價")])])}]},q=e("VU/8")(z,F,!1,null,null,null).exports,Z={data:function(){return{name:"",email:"",phone:"",address:"",message:"",isLoading:!1}},methods:{goBack:function(){this.$router.go(-1),this.$bus.$emit("get-cart-count")},sendOrder:function(){var t=this,a=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/order",e={user:{name:t.name,email:t.email,tel:t.phone,address:t.address},message:t.message};t.isLoading=!0,t.$validator.validate().then(function(s){s?t.$http.post(a,{data:e}).then(function(a){a.data.success?(t.$bus.$emit("get-cart-count"),t.isLoading=!1,t.$router.push({name:"CheckoutConfirmToPay",params:{orderId:a.data.orderId}})):console.log(a.data.message)}):(t.isLoading=!1,console.log("請確認表單皆正確輸入"))})}}},Q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("h5",{staticClass:"py-3 mt-5 mb-2 text-center bg-light"},[t._v("訂購人資訊")]),t._v(" "),e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputName"}},[t._v("姓名：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control mb-2",attrs:{type:"text",id:"exampleInputName",name:"姓名",placeholder:"請輸入姓名"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}}),t._v(" "),t.errors.has("姓名")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("姓名")))]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputEmail1"}},[t._v("信箱：")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control mb-2",class:{"is-invalid":t.errors.has("name")},attrs:{type:"email",id:"exampleInputEmail1",name:"email",placeholder:"請輸入信箱"},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}}),t._v(" "),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v("\n        "+t._s(t.errors.first("email"))+"\n      ")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputPhone"}},[t._v("手機號碼：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"},{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^09\d{8}$/},expression:"{ required: true, regex: /^09\\d{8}$/ }"}],staticClass:"form-control mb-2",attrs:{type:"tel",id:"exampleInputPhone",name:"手機號碼",placeholder:"0912345678"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}}),t._v(" "),t.errors.has("手機號碼")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("手機號碼")))]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputAddress"}},[t._v("地址：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control mb-2",attrs:{type:"text",id:"exampleInputAddress",name:"address",placeholder:"請輸入地址"},domProps:{value:t.address},on:{input:function(a){a.target.composing||(t.address=a.target.value)}}}),t._v(" "),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("請輸入地址")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputMessage"}},[t._v("留言：")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{rows:"4",cols:"50",id:"exampleInputMessage",name:"message",placeholder:"請輸入留言"},domProps:{value:t.message},on:{input:function(a){a.target.composing||(t.message=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center"},[e("a",{staticClass:"btn btn-primary mr-5",attrs:{href:"shoppingCart.html"},on:{click:function(a){return a.preventDefault(),t.goBack(a)}}},[t._v("上一步")]),t._v(" "),e("a",{staticClass:"btn btn-danger",attrs:{href:"shoppingCart-purchase.html"},on:{click:function(a){return a.preventDefault(),t.sendOrder(a)}}},[t._v("送出訂單")])])])],1)},staticRenderFns:[]},G=e("VU/8")(Z,Q,!1,null,null,null).exports,B={props:{orderId:{type:String}},data:function(){return{order:{create_at:1523539834,id:"-L9u2EUkQSoEmW7QzGLF",is_paid:!1,message:"這是留言",payment_method:"credit_card",products:{LTWKjbtQsZSjerdwpBU:{final_total:999,id:"LTWKjbtQsZSjerdwpBA",product:{category:"",content:"",description:"",id:"",imageUrl:"",price:990,title:"",unit:"個"},product_id:"LTWKjbtQsZSjerdwpBC",qty:1,total:999}},total:100,user:{address:"kaohsiung",email:"test@gmail.com",name:"test",tel:"0912346768"}},isLoading:!1}},methods:{getOrder:function(){var t=this,a=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/order/"+t.orderId;t.$http.get(a).then(function(a){a.data.success?t.order=a.data.order:console.log(a.data.message)})},payOrder:function(){var t=this,a=Object({NODE_ENV:"production"}).API_PATH+"/api/"+Object({NODE_ENV:"production"}).CUSTOM_PATH+"/pay/"+t.orderId;t.isLoading=!0,t.$http.post(a).then(function(a){a.data.success?(t.getOrder(),t.isLoading=!1,console.log(a.data.message)):console.log(a.data.messate)})},goHome:function(){this.$router.push("/")}},created:function(){this.getOrder()}},K={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n              "+t._s(a.qty)+" / "+t._s(a.product.unit)+"\n            ")]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v("\n              "+t._s(t._f("currency")(a.final_total))+"\n            ")])])})),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right text-danger h3"},[t._v("\n              "+t._s(t._f("currency")(t.order.total))+"\n            ")])])])]),t._v(" "),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",{attrs:{width:"120"}},[t._v("收件人電話")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",{attrs:{width:"120"}},[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),t.order.is_paid?t._e():e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-secondary",on:{click:function(a){return a.preventDefault(),t.goHome(a)}}},[t._v("\n          繼續逛逛\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-danger",on:{click:function(a){return a.preventDefault(),t.payOrder(a)}}},[t._v("\n          確認付款去\n        ")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",[this._v("品名")]),this._v(" "),a("th",[this._v("數量")]),this._v(" "),a("th",[this._v("單價")])])}]},W=e("VU/8")(B,K,!1,null,null,null).exports,J=e("TQvf"),X=e.n(J),tt={data:function(){return{nowDate:"",dueDate:"",timer:"6 Day 6 Hours 6 Minutes 6 Second",time:0}},created:function(){var t=this;t.time>=0&&setInterval(function(){t.nowDate=Math.floor(Date.now()/1e3),t.dueDate=Math.round(new Date("2018-12-31T23:59:59Z").getTime()/1e3),t.time=t.dueDate-t.nowDate-28800;var a=Math.floor(t.time/86400),e=Math.floor(t.time%86400/3600),s=Math.floor(t.time%3600/60),n=Math.floor(t.time%60);t.$set(t,"timer",a+" Day "+e+" Hours "+s+" Minutes "+n+" Seconds")},1e3)},mounted:function(){var t=new X.a(".copy");t.on("success",function(t){$()(".copy").popover("show"),setTimeout(function(){$()(".copy").popover("hide")},2e3),t.clearSelection()}),t.on("error",function(t){console.error("Action:",t.action),console.error("Trigger:",t.trigger)})}},at={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container d-flex justify-content-center align-items-center mt-3"},[e("div",{staticClass:"card bg-light",staticStyle:{width:"40rem"}},[e("div",{staticClass:"card-body d-flex flex-column align-items-center"},[t.time>0?e("p",{staticClass:"text-danger h1 text-center mb-4"},[t._v("\n          限時優惠\n        ")]):t._e(),t._v(" "),t.time>0?e("p",{staticClass:"h5 text-monospace text-center mb-4"},[t._v("\n          "+t._s(t.timer)+"\n        ")]):t._e(),t._v(" "),t.time>0?e("p",{staticClass:"card-title h1 mb-5 text-success"},[t._v("20% off")]):t._e(),t._v(" "),t.time>0?e("p",{staticClass:"card-text text-monospace py-2 h3 mb-2"},[t._v("\n          Coupon Code:\n        ")]):t._e(),t._v(" "),t.time?e("span",{staticClass:"alert-secondary py-2 px-4 mb-5 text-monospace rounded",attrs:{id:"couponCode"}},[t._v("excited\n          "),t._m(0)]):t._e(),t._v(" "),t.time<0?e("p",{staticClass:"h2 text-danger"},[t._v("優惠已截止")]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"copy",attrs:{type:"button","data-clipboard-target":"#couponCode","data-clipboard-action":"copy","data-container":"body","data-toggle":"popover","data-placement":"bottom","data-content":"已複製"}},[a("img",{attrs:{src:e("7ZLi"),alt:""}})])}]},et=e("VU/8")(tt,at,!1,null,null,null).exports;s.a.use(_.a);var st=new _.a({routes:[{path:"/",component:H,children:[{path:"",name:"Products",component:j},{path:"/product-detail/:product",name:"ProductDetail",component:R,props:!0},{path:"/checkout",component:y,children:[{path:"",name:"CheckoutCartsDetail",component:q},{path:"checkout-customer-form",name:"CheckoutCustomerForm",component:G},{path:"/checkout-confirm-to-pay/:orderId",name:"CheckoutConfirmToPay",component:W,props:!0}]},{path:"/coupon",name:"Coupon",component:et}]}]});s.a.prototype.$bus=new s.a;s.a.config.productionTip=!1,s.a.use(o.a,i.a),s.a.use(c.a,{events:"input|change|blur"}),c.a.Validator.localize("zh_TW",d.a),s.a.component("Loading",p.a),s.a.filter("currency",function(t){return"$"+Number(t).toFixed(0).replace(/./g,function(t,a,e){return a&&"."!==t&&(e.length-a)%3==0?(", "+t).replace(/\s/g,""):t})}),new s.a({el:"#app",router:st,components:{App:m},template:"<App/>"}),st.beforeEach(function(t,a,e){window.scrollTo(0,0),e()})},NI5Q:function(t,a,e){t.exports=e.p+"static/img/薩爾達傳說：荒野之息.124cbc6.jpg"},R0wZ:function(t,a,e){t.exports=e.p+"static/img/漆彈大作戰2.e82f84c.jpg"},SYh3:function(t,a){},VDdK:function(t,a){},cdar:function(t,a,e){t.exports=e.p+"static/img/瑪莉歐賽車 8 豪華版.4df78fb.jpg"}},["NHnr"]);
//# sourceMappingURL=app.63158d1a1a94646f1c84.js.map